<!-- Main Layout -->
<div class="min-h-screen bg-gray-50 dark:bg-gray-900">
  <!-- Header -->
  <app-header></app-header>

  <!-- Main Content -->
  <main class="container mx-auto px-4 py-6">
    <!-- Title and Description -->
    <div class="text-center mb-8">
      <h1 class="text-3xl font-bold text-gray-900 dark:text-white mb-2">
        Find Activities
      </h1>
      <p class="text-gray-600 dark:text-gray-400">
        Discover and explore activities for your family and friends
      </p>
    </div>

    <!-- Search and Filter -->
    <section class="mb-8">
      <app-search-bar
        (search)="onSearch($event)"
        (openFilter)="openFilter()"
      ></app-search-bar>
    </section>

    <!-- Loading State -->
    <div
      *ngIf="isLoading"
      class="flex flex-col items-center justify-center h-64"
    >
      <div class="relative">
        <div
          class="animate-spin h-12 w-12 rounded-full border-4 border-indigo-500 border-t-transparent"
        ></div>
        <div class="absolute inset-0 flex items-center justify-center">
          <div class="h-3 w-3 rounded-full bg-indigo-400 animate-pulse"></div>
        </div>
      </div>
      <p class="mt-4 text-gray-300/90 animate-pulse">Loading activities...</p>
    </div>

    <!-- Activity List -->
    <section *ngIf="!isLoading">
      <app-activity-list
        [activities]="activityService.filteredActivities()"
        [loading]="isLoading"
        (favoriteToggle)="toggleFavorite($event)"
      ></app-activity-list>
    </section>
  </main>

  <!-- Footer (Desktop Only) -->
  <app-footer></app-footer>

  <!-- Bottom Navigation (Mobile Only) -->
  <app-bottom-nav></app-bottom-nav>

  <!-- Filter Modal -->
  <app-filter
    [isOpen]="isFilterOpen"
    [currentFilter]="activityService.currentFilter()"
    (close)="closeFilter()"
    (applyFilter)="applyFilter($event)"
    (resetFilter)="resetFilter()"
  ></app-filter>
</div>
